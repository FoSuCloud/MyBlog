
<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8" />

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>测试</title>
    <style type="text/css">
        body,html{
            height: 100%;
            width: 100%;
            padding: 0;
            margin: 0;
        }
        .outer{
            height: 100%;
            margin-left: 100px;
        }
    </style>
</head>

<body>
    <div class="outer">
        <svg width="300" height="300"  xmlns="http://www.w3.org/2000/svg">
            <defs>
                <g id="popover" stroke="gray" stroke-width="2">
                    <circle cx="60" cy="60" r="10" fill="none"></circle>
                    <path d="M 60 70 V 100"></path>
                </g>
            </defs>
            <use href="#popover"></use>
        </svg>
    </div>
    <script>
        /**
         * @param {number[][]} matrix
         * @return {number[]}
         */
        var spiralOrder = function(matrix) {
            let m=matrix.length;
            let n=matrix[0].length
            //类似动态规划,但是终点不确定，所以需要把遍历过的元素设置为null进行判断
            // 共有四个方向
            let i=0,j=0;
            let res=[]
            while(true){
                if(matrix[i][j]===null || i<0 || i>=m || j<0 || j>=n){
                    break;
                }
                // 左到右
                for(;j<n;j++){
                    if(matrix[i][j] === null){
                        break;
                    }
                    res.push(matrix[i][j])
                    matrix[i][j]=null;
                }
                j--; // 避免过界
                i++;
                // 右到下
                for(;i<m;i++){
                    if(matrix[i][j] === null){
                        break;
                    }
                    res.push(matrix[i][j])
                    matrix[i][j]=null;
                }
                i--;
                j--;
                // 右到左
                for(;j>=0;j--){
                    if(matrix[i][j] === null){
                        break;
                    }
                    res.push(matrix[i][j])
                    matrix[i][j]=null;
                }
                j++;
                i--;
                // 下到上
                for(;i>=0;i--){
                    if(matrix[i][j] === null){
                        break;
                    }
                    res.push(matrix[i][j])
                    matrix[i][j]=null;
                }
                i++;
                j++;
            }
            return res;
        };
        console.log(spiralOrder([[1,2,3],[4,5,6],[7,8,9]]))
        console.log(spiralOrder([[1]]))

    </script>
</body>

</html>
