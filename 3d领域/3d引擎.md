## 3d引擎
* 3D引擎是一种计算机软件，用于`创建、渲染和操作3D图形场景`。3D引擎通常由多个组件组成，包括：
1. 场景管理器：用于创建、存储和操作3D场景，包括场景中的物体、光源和相机等。
2. 渲染器：用于将3D场景转化为2D图像，通常包括模型的渲染、光照、阴影、反射等效果。
3. 物理引擎：用于模拟3D场景中物体的物理行为，如重力、碰撞、弹性等。
4. 动画引擎：用于在3D场景中创建动画效果，包括骨骼动画、表情动画、粒子效果等。
5. 脚本引擎：用于编写脚本，控制3D场景中的物体、动画和交互行为。

* 常见的3D引擎包括Unity、Unreal Engine、CryEngine等，它们都提供了丰富的功能和工具，可以用于游戏开发、虚拟现实、建模等领域。


* 在 AR 中，主要的技术是使用摄像头获取现实场景中的图像，然后在图像上叠加虚拟物体，使得用户可以看到现实和虚拟物体的融合。一些 AR 应用程序可能会`使用 3D 引擎来创建虚拟物体`，但是其他应用程序可能会使用 2D 图像或视频流来实现增强现实效果。
* 在 VR 中，`通常使用 3D 引擎来创建虚拟环境`，用户可以通过 VR 头显等设备进入这个虚拟环境中。在这个虚拟环境中，用户可以与虚拟物体进行交互，如触碰、移动等。3D 引擎可以帮助创建逼真的虚拟环境和物体，并支持各种交互方式。


#### 开发一个3d引擎需要做的
要开发一个3D引擎需要具备以下几方面的知识和技能：
1.数学：线性代数，三角函数，微积分等数学知识是必须的。
2.计算机图形学：了解计算机图形学的基本原理，包括3D图形渲染、着色器编程、模型构建等。
3.编程：具备良好的编程能力，熟练掌握C++或其他高级编程语言，并了解图形API（OpenGL，DirectX）。
4.物理学：对物理学有基本的了解，了解基本的动力学、力学、碰撞检测等物理原理。

基于上述知识和技能，可以开始进行3D引擎的开发：
1.定义需求：明确开发3D引擎的目标和需求，包括支持的平台、开发语言、支持的功能等。
2.架构设计：设计引擎的架构，包括渲染管线、场景管理、物理引擎、声音引擎等组件的设计。
3.实现组件：按照设计，实现各个组件，例如渲染管线、场景管理、物理引擎、声音引擎等。
4.集成组件：将各个组件集成在一起，并测试其运作是否符合需求。
5.优化：对引擎进行优化，提升性能，例如减少渲染负担、使用多线程等技术。
6.测试和修复：对引擎进行测试，修复潜在的问题和bug。

#### 渲染管线
* 3D引擎的渲染管线（Rendering Pipeline）是`将3D场景中的3D模型、材质、光源等信息进行处理，最终输出为2D图像的一系列计算和渲染过程。`
一个典型的渲染管线包括以下几个主要阶段：
1. 几何处理阶段（Geometry Stage）：主要处理3D模型的位置、大小、旋转等变换，以及模型的几何属性（如表面法向量、颜色、纹理坐标等），生成待渲染的几何物体。
2. 光栅化阶段（Rasterization Stage）：将几何物体转化为像素，即为每个像素计算其所对应的几何物体的信息（如深度、颜色等），生成片元。
3. 片元处理阶段（Fragment Stage）：对每个片元进行一系列处理，包括光照计算、纹理采样、混合计算等，最终输出颜色和深度等信息。
4. 输出阶段（Output Stage）：将处理后的图像输出到屏幕上，以供观察。

不同的渲染管线有不同的实现方式。在实现渲染管线时，需要考虑到硬件的限制以及渲染效果与性能之间的平衡。现代图形学中，一些高端渲染技术（如光线追踪、阴影、全局照明等）的实现也需要在渲染管线中进行相应的处理。
一些流行的3D引擎（如Unity、Unreal Engine）已经提供了自己的渲染管线，开发者可以使用其提供的API来快速构建3D应用程序。同时，开发者也可以自己实现渲染管线，以满足自己的需求。

#### 自研3d引擎
* 王者荣耀是使用腾讯自研的3D游戏引擎Tencent G3D开发的。原神是使用miHoYo自研的3D游戏引擎Cocos2d-x开发的。

