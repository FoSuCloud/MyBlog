<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			 #one{
				 width: 300px;
				 height: 300px;
				 display: inline-block;
				 position: absolute;
				 background: linear-gradient(45deg,white,red);
			 }
		</style>
	</head>
	<body>
		<div id="one">
		    
		</div>
		<script type="text/javascript">
			Function.prototype.bind = function(context, ...bindArgs) {
			  // func 为调用 bind 的原函数
			  const func = this;
			  context = context || window;
			  
			  if (typeof func !== 'function') {
			    throw new TypeError('Bind must be called on a function');
			  }
			  // bind 返回一个绑定 this 的函数
			  return function(...callArgs) {
			    let args = bindArgs.concat(callArgs);
			    if (this instanceof func) {
			      // 意味着是通过 new 调用的 而 new 的优先级高于 bind
			      return new func(...args);
			    }
			    return func.call(context, ...args);
			  }
			}
			// 构造函数
			function three(a,b){
				this.a=a
				this.b=b
				return this;
			}
			var obj={name:'yiyi',age:11}
			var bindf=three.bind(obj,'b');
			console.log(bindf)
			bindf(22)
			var four=new bindf(33);
			console.log(four)
		</script>
	</body>
</html>
