## keepalived
* 在边缘计算中，Keepalived 是一个常用的组件，它主要用于实现高可用性和故障切换。
* Keepalived通常与`负载均衡器（如LVS）`结合使用，确保在边缘节点发生故障时能够`快速切换到备用节点`，从而保证服务的连续性和稳定性。

主要功能：
1. `健康检查`：Keepalived会定期检查边缘节点的健康状态，以确保节点能够正常提供服务。
通过配置健康检查规则，Keepalived可以监测节点的存活状态，如果节点不可用，则会将其标记为失效。
2. `VIP管理`：Keepalived负责管理`虚拟IP（VIP virtual address ip）`。在边缘计算集群中，`VIP是对外提供服务的IP地址`，
它被绑定到当前活动的边缘节点上。如果当前活动的节点发生故障，`Keepalived会快速将VIP迁移到备用节点`，确保服务在最短时间内恢复。
3. `故障切换`：一旦Keepalived检测到主节点不可用，它会触发故障切换机制，将VIP从主节点切换到备用节点，确保服务的高可用性。
这样，即使主节点出现故障，备用节点仍然可以接管服务并继续提供。
4. `VRRP协议`：Keepalived使用VRRP（Virtual Router Redundancy Protocol）协议来实现VIP的冗余和故障切换。
VRRP是一种网络协议，允许多个路由器（或边缘节点）共享同一个虚拟IP地址，当主节点不可用时，备用节点将接管该IP地址。
5. `状态同步`：Keepalived通过组播或单播机制在集群节点之间同步状态信息，以确保所有节点都知道当前活动的节点和备用节点是谁。

#### Edge的VIP（虚拟IP）
* 在边缘计算中，Edge节点是分布在网络边缘的计算节点，它们可以是物理设备、虚拟机或容器，用于处理数据和执行计算任务。
* 为了使外部用户或其他服务能够访问到部署在Edge节点上的服务，通常会为这些服务配置VIP（虚拟IP）。
* `VIP是一个虚拟的IP地址，代表着Edge节点上的服务。`

#### 设置
* 在 Keepalived 这样的高可用性软件中，"unicast_src_ip" 和 "unicast_peer" 是常用的设置，`用于配置单播通信以实现故障转移和高可用性`。
* "unicast_src_ip" `通常指定了本地节点`（服务器）的IP地址，
* 而 "unicast_peer" `则指定了其他节点的IP地址`，这两个参数一起用于建立节点之间的通信链路。

* 在这种设置下，`节点之间通过单播通信来检测对方的健康状态和可用性`。
* 如果其中一个节点出现故障或不可用，其他节点将会接管该节点的虚拟IP，确保服务的继续可用性。

