#### xlen获取流包含的元素数量
* `xlen [streamname]`
```redis
127.0.0.1:6379> xlen ministream
(integer) 2
```
* 不存在的流和空流返回0

#### XRANGE、XREVRANGE：访问流中元素
* `流本质上是一个有序序列`，对于这种序列，使用有序方式获取序列中的各项元素是一种非常常见的操作。
* `Redis也为流提供了XRANGE命令，这个命令可以以遍历或者迭代的方式，访问流中的单个或者任意多个元素。`

#### 获取指定ID的元素
* XRANGE命令最简单的用法就是将命令的起始ID和结束ID设置为同一个流元素ID，这样XRANGE命令就会从流中获取并返回ID指定的元素。
```redis

[//]: # 先查看所有元素()
127.0.0.1:6379> xrange ministream - +
1) 1) "1688223077628-0"
   2) 1) "k3"
      2) "v3"
2) 1) "1688223146581-0"
   2) 1) "k5"
      2) "v5"

[//]: # 再去获取单个元素内容()
127.0.0.1:6379> xrange ministream 1688223077628 1688223077628
1) 1) "1688223077628-0"
   2) 1) "k3"
      2) "v3"
```
* 另一方面，如果用户给定的ID不存在，那么XRANGE命令将返回一个空列表作为结果：

#### 获取指定ID范围内的多个元素
```redis
127.0.0.1:6379> xrange ministream - +
1) 1) "1688223077628-0"
   2) 1) "k3"
      2) "v3"
2) 1) "1688223146581-0"
   2) 1) "k5"
      2) "v5"
3) 1) "1688225374396-0"
   2) 1) "k6"
      2) "v6"
4) 1) "1688225378120-0"
   2) 1) "k7"
      2) "v7"
5) 1) "1688225380909-0"
   2) 1) "k8"
      2) "v8"
```
* 然后获取指定范围内的元素
```redis
127.0.0.1:6379> xrange ministream 1688223077628 1688225378120
1) 1) "1688223077628-0"
   2) 1) "k3"
      2) "v3"
2) 1) "1688223146581-0"
   2) 1) "k5"
      2) "v5"
3) 1) "1688225374396-0"
   2) 1) "k6"
      2) "v6"
4) 1) "1688225378120-0"
   2) 1) "k7"
      2) "v7"
```

#### 获取所有元素
* XRANGE命令的起始ID和结束ID除了可以是流元素的ID之外，还可以是特殊值减号-和加号+，
* 其中`前者用于表示流中的最小ID，而后者则用于表示流中的最大ID。`
* 在这两个特殊值的帮助下，用户可以通过XRANGE命令获取流包含的所有元素，或者ID大于等于或小于等于指定ID的所有元素。

* `也可以获取大于/小于某个值范围内的所有元素`
```redis
127.0.0.1:6379> xrange ministream 1688223146581 +
1) 1) "1688223146581-0"
   2) 1) "k5"
      2) "v5"
2) 1) "1688225374396-0"
   2) 1) "k6"
      2) "v6"
3) 1) "1688225378120-0"
   2) 1) "k7"
      2) "v7"
4) 1) "1688225380909-0"
   2) 1) "k8"
      2) "v8"
```

```redis
127.0.0.1:6379> xrange ministream - 1688225374396 
1) 1) "1688223077628-0"
   2) 1) "k3"
      2) "v3"
2) 1) "1688223146581-0"
   2) 1) "k5"
      2) "v5"
3) 1) "1688225374396-0"
   2) 1) "k6"
      2) "v6"
```

#### 返回指定数量的元素
* 虽然使用XRANGE命令可以很简单地获取多个元素，但是对于一些长度非常大的流来说，
* `一次返回数量众多的元素可能会导致客户端因为体积庞大的回复而被阻塞，这并不是一件好事`。

* 用户可以通过XRANGE命令的`COUNT选项去限制一次命令调用能够返回的最大元素数量`：
`        XRANGE stream start-id end-id [COUNT n]`

* 比如，通过执行以下命令，我们可以只获取temp-stream流中`ID最小的3个元素`
```redis
127.0.0.1:6379> xrange ministream - + COUNT 3
1) 1) "1688223077628-0"
   2) 1) "k3"
      2) "v3"
2) 1) "1688223146581-0"
   2) 1) "k5"
      2) "v5"
3) 1) "1688225374396-0"
   2) 1) "k6"
      2) "v6"
```

* `获取大于等于（大于等于！）某个ID的前两个元素`
```redis
127.0.0.1:6379> xrange ministream 1688223146581 + COUNT 2
1) 1) "1688223146581-0"
   2) 1) "k5"
      2) "v5"
2) 1) "1688225374396-0"
   2) 1) "k6"
      2) "v6"
```

#### xrevrange
* xrevrange 命令是XRANGE命令的逆序版本，前者除了会按照ID从大到小而不是从小到大的顺序访问流元素之外，其他作用后者是相同的：
* `XREVRANGE stream end-id start-id [COUNT n]`
```redis
127.0.0.1:6379> xrevrange ministream + - count 3 
1) 1) "1688225380909-0"
   2) 1) "k8"
      2) "v8"
2) 1) "1688225378120-0"
   2) 1) "k7"
      2) "v7"
3) 1) "1688225374396-0"
   2) 1) "k6"
      2) "v6"
```

