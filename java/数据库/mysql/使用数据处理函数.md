## 使用数据处理函数
* 与其他大多数计算机语言一样，SQL支持利用函数来处理数据。
* `函数一般是在数据上执行的，它给数据的转换和处理提供了方便。`

#### 可移植性
* `能运行在多个系统上的代码称为可移植的（portable）`
* 相对来说，`多数SQL语句是可移植的`，在SQL实现之间有差异时，这些差异通常不那么难处理。
* 而`函数的可移植性却不强`。几乎每种主要的DBMS的实现都支持其他实现不支持的函数，而且有时差异还很大。

* `如果你决定使用函数，应该保证做好代码注释，以便以后你（或其他人）能确切地知道所编写SQL代码的含义。`

#### 函数
* 大多数SQL实现支持以下类型的函数。
  ❑ 用于处理文本串（如删除或填充值，转换值为大写或小写）的文本函数。
  ❑ 用于在数值数据上进行算术操作（如返回绝对值，进行代数运算）的数值函数。
  ❑ 用于处理日期和时间值并从这些值中提取特定成分（例如，返回两个日期之差，检查日期有效性等）的日期和时间函数。
  ❑ 返回DBMS正使用的特殊信息（如返回用户登录信息，检查版本细节）的系统函数。

#### 文本处理函数
* Left: 返回串左边的字符
* Length: 返回串的长度
* Locate: 找出串的一个子串
* Lower: 将串转换为小写
* Ltrim: 去掉串左边的空格
* Right: 返回串右边的字符
* Rtrim: 去掉串右边的空格
* Soundex: 返回串的SOUNDEX值
* Substring: 返回子串的字符
* Upper: 将串转换为大写


* SOUNDEX是一个将任何文本串转换为描述其`语音表示的字母数字模式的算法`。
* SOUNDEX考虑了类似的发音字符和音节，使得能对串进行发音比较而不是字母比较。
* 虽然SOUNDEX不是SQL概念，但MySQL（就像多数DBMS一样）都提供对SOUNDEX的支持。

#### 日期和时间处理函数
* Adddate: 增加一个日期（天、周等）
* Addtime: 增加一个时间（时、分等）
* Curdate: 返回当前日期
* Current_time、Current_date: 返回当前时间、日期
* Date: 从一个字符串返回一个日期
* Datediff: 计算两个日期之差
* Date_format: 返回一个格式化的日期或时间串
* Dayofweek: 对于一个日期，返回对应的星期几
* Dayofmonth: 对于一个日期，返回对应的月份的天数
* Dayofyear: 对于一个日期，返回对应的年份的天数
* Extract: 返回日期或时间的单独部分
* Hour: 返回时间的小时部分
* Minute: 返回时间的分钟部分
* Month: 返回日期的月份部分
* Now: 返回当前日期和时间
* Second: 返回时间的秒部分
* Subdate: 从一个日期减去指定的时间间隔
* Subtime: 从一个时间减去指定的时间间隔
* Weekday: 对于一个日期，返回对应的星期几
* Year: 返回日期的年份部分
* Yearweek: 返回日期的年份和周数

#### 数值处理函数
* Abs: 返回一个数的绝对值
* Acos: 返回一个数的反余弦值
* Asin: 返回一个数的反正弦值
* Atan: 返回一个数的反正切值
* Atn2: 返回两个数的反正切值
* Avg: 返回某列的平均值
* Ceil: 返回大于等于给定数的最小整数
* Ceiling: 返回大于等于给定数的最小整数
* Cos: 返回一个角度的余弦值
* Cot: 返回一个角度的余切值
* Count: 返回某列的行数
* Degrees: 把一个弧度转换成角度
* Exp: 返回一个数的指数值
* Floor: 返回小于等于给定数的最大整数
* Ln: 返回一个数的自然对数
* Log: 返回一个数的自然对数
* Log10: 返回一个数的以10为底的对数
* Max: 返回某列的最大值
* Min: 返回某列的最小值
* Mod: 返回除操作的余数
* Pi: 返回圆周率
* Power: 返回第一个数的第二个数次方
* Radians: 把角度转换成弧度
* Rand: 返回一个随机数
* Round: 对一个数进行四舍五入
* Sign: 返回一个数的符号
* Sin: 返回一个角度的正弦值
* Sqrt: 返回一个数的平方根
* Sum: 返回某列值之和
* Tan: 返回一个角度的正切值
* Truncate: 返回指定小数位数的数字

### string_agg
* string_agg 是一种用于字符串聚合的聚合函数，通常在数据库查询中使用。
* `它将一组字符串值按照指定的分隔符连接起来，形成一个单个的字符串。`
```mysql
SELECT string_agg(name, ',') FROM students;
```

