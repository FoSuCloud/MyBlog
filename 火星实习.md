## 框架选择
1. `新的任务是对一个老项目进行迭代(改动超多)，老项目使用的是原生小程序，经过商议，对老项目进行重写！`
2. `在原生小程序的基础上使用腾讯官方开源的omix2.0(类似于vuex,相当于状态管理)`
3. 下面是omix的使用注意事项:
```
1. 对于omix的组件，可以分为原生组件(和小程序原生组件一样使用),omix组件(使用create.Component()方式创建可以使用store数据的组件)
2. 对于使用到store数据的页面，要使用create.Page,而不使用到store数据的页面则和原生页面一样使用Page
3. omix组件和页面在使用store的基础上还可以继续像原生的一样使用data,methods这些，使用方式一样
```
4. [文档](https://github.com/Tencent/omi/tree/master/packages/omix)

## block标签
1. block标签`仅仅是一个包装元素，不会在页面做任何渲染`，只接受控制元素(`如wx:if,wx:for`)
2. `view是一个组件，会在页面做渲染`

## 组件补充
1. 组件中还有options选项，可以设置`multipleSlots:true设置允许多个插槽`
2. 对于组件中的properties,里面的observer可以设置为函数，同时也可以是一个字符串，表示指向一个函数，如observer: 'update'  //触发函数upate

## 顶部导航栏
1. `顶部导航栏设置一个啥属性可以使用自定义导航栏，不使用的话就是默认导航栏`
2. Navigation是小程序的顶部导航组件，当页面配置navigationStyle设置为custom的时候可以使用此组件替代原生导航栏。

## 前端如何处理富文本？
1. `后台返回文本及图片杂糅的，前端应该如何处理？`
2. 解决方法:
* `第一种:跟后端说好，在后台管理系统中进行处理，在文本插入图片前面位置加上一个<<类似符号，然后把图片额外放入一个列表`
* `然后前端根据后端返回的 'hahaha<<前面有图片',['http://image']这种形式的数据进行处理，先根据<<对字符串进行切割，然后在切割之后加入空元素，最后把图片赋值给对应的空元素`
* `但是这种方式貌似不可行!小程序不会主动去识别<image>标签，所以只能堆文字进行处理，或者进行更复杂的逻辑处理`
* `第二种方式:使用富文本处理插件wxParse,插件400k，不建议使用`
* `第三种方式:如果文章是在公众号关联的(个人账号暂不支持)，那么就使用web-view标签打开对应的公众号文章，需要注意的是一个页面只能有一个web-view,所以src是动态赋值的，平时就是空字符串就可以了`

## 在组件内获取节点(in(this))
```
var query = wx.createSelectorQuery().in(this)//创建节点查询器 query
      query.select('.i-drawer-mask').boundingClientRect()
      query.selectViewport().scrollOffset()
      query.exec(function (res) {
        console.log(res)
      })
```

## letter-spacing字间距

## 组件中获取节点
1. 需要注意的是，除了常规代码，还要在select函数后面加上in(this)指明搜索范围是在该组件，如果不指定则搜索不到！

## 只有进入动画，没有退出动画？
1. `因为代码有问题！在退出动画开始之前就发送信息给页面，叫页面销毁组件了，所以组件没有退出动画`

## 一个进入动画
```

@keyframes move_right {
    from {
        -webkit-transform: translateX(100vw);
        transform: translateX(100vw);
    }
    to {
        -webkit-transform: translateX(0);
        transform: translateX(0);
    }
}

  animation-name:move_right;
  -webkit-animation-name: move_right; /*动画名称*/
  animation-duration:0.5s;
  -webkit-animation-duration: 0.5s; /*动画持续时间*/
  animation-iteration-count:1;
  -webkit-animation-iteration-count: 1; /*动画次数*/
```

## omix获取不到数据？
```
create.Page(store, option) 创建页面， store 从页面注入，可跨页面跨组件共享, 如果 option 定义了 data，store 的 data 会挂载在 this.data.$ 下面
 如果在page中用了data,那么在Html中就要使用 $.msg这种方式使用数据
```

## 点击image无效？
1. `image是绝对定位，在input按钮之上，不知为何，点击会无效果，增加z-index:2之后反而好了，为1却也不行！`

## ready生命周期
1. //在attached生命周期可以给data数据添加自定义属性，但是还不可以添加属性，所以在视图初始化的时候再添加属性

## 组件的值不被改变？
1. `页面中还没有给组件wx:if的满足条件，但是组件就会进入ready周期，导致数据改变`
2. `但是数据改变之后，由于页面改变了wx:if的条件，然后再次传值，但是这次不改版数据，所以看起来就是没有改变`
3. `解决方法:在oberver函数中再次调用改变数据的函数！`
4. `这样不行。。会导致其它改变也无效，在page中设置wx:if成立才创立组件所在的view`

